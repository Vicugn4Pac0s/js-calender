(()=>{"use strict";const t=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"];new class{constructor(){this.today=new Date,this.currentYear=this.today.getFullYear(),this.currentMonth=this.today.getMonth(),this.$_previous=document.getElementById("previous"),this.$_next=document.getElementById("next"),this.$_selectYear=document.getElementById("year"),this.$_selectMonth=document.getElementById("month"),document.getElementById("calendar").getAttribute("data-lang");let e=function(t,e){let n="";for(let t=1970;t<=2200;t++)n+="<option value='"+t+"'>"+t+"</option>";return n}();document.getElementById("year").innerHTML=e,this._setSelect(),this.Calender=new class{constructor(){this.today=new Date,this.currentMonth=this.today.getMonth(),this.currentYear=this.today.getFullYear(),this.monthAndYear=document.getElementById("monthAndYear"),this.tbl=document.getElementById("calendar-body"),this._renderDay()}set(t,e){this.currentMonth=t,this.currentYear=e}render(){this._renderMonth(),this._renderDate()}_renderMonth(){this.monthAndYear.innerHTML=t[this.currentMonth]+" "+this.currentYear}_renderDay(){let t=["日","月","火","水","木","金","土"],e="<tr>";for(let n in t)e+="<th data-days='"+t[n]+"'>"+t[n]+"</th>";e+="</tr>",document.getElementById("thead-month").innerHTML=e}_renderDate(){this.tbl.innerHTML="";let t=1,e=new Date(this.currentYear,this.currentMonth).getDay();for(let s=0;s<6;s++){let h=document.createElement("tr");for(let i=0;i<7&&!(t>(n=this.currentMonth,r=this.currentYear,32-new Date(r,n,32).getDate()));i++){if(0===s&&i<e){let t=document.createElement("td"),e=document.createTextNode("");t.appendChild(e),h.appendChild(t);continue}let n=this._getCreateCell(t);h.appendChild(n),t++}this.tbl.appendChild(h)}var n,r}_getCreateCell(e){let n=document.createElement("td");return n.setAttribute("data-date",e),n.setAttribute("data-month",this.currentMonth+1),n.setAttribute("data-year",this.currentYear),n.setAttribute("data-month_name",t[this.currentMonth]),n.className="date-picker",n.innerHTML="<span>"+e+"</span>",e===this.today.getDate()&&this.currentYear===this.today.getFullYear()&&this.currentMonth===this.today.getMonth()&&(n.className="date-picker selected"),n}},this.Calender.render(),this.handleEvents()}handleEvents(){this.$_previous.addEventListener("click",this.previous.bind(this)),this.$_next.addEventListener("click",this.next.bind(this)),this.$_selectYear.addEventListener("change",this.jump.bind(this)),this.$_selectMonth.addEventListener("change",this.jump.bind(this))}next(){this.currentYear=11===this.currentMonth?this.currentYear+1:this.currentYear,this.currentMonth=(this.currentMonth+1)%12,this._setSelect(),this._setCalender()}previous(){this.currentYear=0===this.currentMonth?this.currentYear-1:this.currentYear,this.currentMonth=0===this.currentMonth?11:this.currentMonth-1,this._setSelect(),this._setCalender()}jump(){this.currentYear=parseInt(selectYear.value),this.currentMonth=parseInt(selectMonth.value),this._setCalender()}_setCalender(){this.Calender.set(this.currentMonth,this.currentYear),this.Calender.render()}_setSelect(){this.$_selectYear.value=this.currentYear,this.$_selectMonth.value=this.currentMonth}}})();